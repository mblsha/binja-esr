<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PC-E500 Web Emulator</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <h1>Sharp PC-E500 Emulator</h1>
        
        <div class="emulator-layout">
            <!-- Screen Display Section -->
            <div class="screen-section">
                <div class="screen-frame">
                    <img id="lcd-display" src="" alt="PC-E500 Display" />
                </div>
                <div class="controls">
                    <button id="btn-run" class="control-btn">Run</button>
                    <button id="btn-pause" class="control-btn" disabled>Pause</button>
                    <button id="btn-step" class="control-btn">Step</button>
                    <button id="btn-reset" class="control-btn">Reset</button>
                </div>
            </div>
            
            <!-- State Panel Section -->
            <div class="state-panel">
                <h2>CPU State</h2>
                <div class="registers">
                    <h3>Registers</h3>
                    <table>
                        <tr><td>PC:</td><td id="reg-pc">0x000000</td></tr>
                        <tr><td>A:</td><td id="reg-a">0x00</td></tr>
                        <tr><td>B:</td><td id="reg-b">0x00</td></tr>
                        <tr><td>BA:</td><td id="reg-ba">0x0000</td></tr>
                        <tr><td>I:</td><td id="reg-i">0x0000</td></tr>
                        <tr><td>X:</td><td id="reg-x">0x000000</td></tr>
                        <tr><td>Y:</td><td id="reg-y">0x000000</td></tr>
                        <tr><td>U:</td><td id="reg-u">0x000000</td></tr>
                        <tr><td>S:</td><td id="reg-s">0x000000</td></tr>
                    </table>
                </div>
                <div class="flags">
                    <h3>Flags</h3>
                    <table>
                        <tr><td>Zero (Z):</td><td id="flag-z">0</td></tr>
                        <tr><td>Carry (C):</td><td id="flag-c">0</td></tr>
                    </table>
                </div>
                <div class="stats">
                    <h3>Statistics</h3>
                    <p>Instructions: <span id="instruction-count">0</span></p>
                </div>
            </div>
            
            <!-- Instruction History Panel -->
            <div class="instruction-history-panel">
                <h2>Instruction History</h2>
                <div class="history-content">
                    <div id="instruction-history" class="history-list">
                        <!-- Instruction history will be populated here -->
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Internal Register Watch Section -->
        <div class="register-watch-section">
            <h2>Internal Register Watch</h2>
            <p class="register-watch-hint">Hover over register names for descriptions</p>
            <div class="register-watch-content">
                <table id="register-watch-table">
                    <thead>
                        <tr>
                            <th>Register</th>
                            <th>Last Writes (PC)</th>
                            <th>Last Reads (PC)</th>
                        </tr>
                    </thead>
                    <tbody id="register-watch-body">
                        <!-- Register watch data will be populated here -->
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- Virtual Keyboard Section -->
        <div class="keyboard-section">
            <h2>Virtual Keyboard</h2>
            <div id="virtual-keyboard" class="keyboard">
                <!-- Keyboard will be generated by JavaScript -->
            </div>
        </div>
    </div>
    
    <script src="/static/app.js"></script>
</body>
</html>